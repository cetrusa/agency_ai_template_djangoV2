{% comment %}
Modal System Â· modal_base.html

Estructura base reutilizable.

Context esperado:
- modal_id: str (default: "ds-modal")
- modal_title: str
- modal_size: sm|md|lg|xl (default: md)
- modal_backdrop_close: bool (default: True)
- modal_header_sticky: bool (default: False)

Bloques:
- modal_body
- modal_footer

Cierre:
- Botones con data-action="close-modal"
- Escape cierra
- Click fuera cierra si modal_backdrop_close=True

Nota: Este template NO depende de Bootstrap Modal.
{% endcomment %}

<div class="ds-modal-backdrop" data-modal-backdrop></div>

<section id="{{ modal_id|default:'ds-modal' }}"
         class="ds-modal ds-modal--{{ modal_size|default:'md' }}"
         role="dialog"
         aria-modal="true"
         aria-labelledby="{{ modal_id|default:'ds-modal' }}-title"
         data-modal
         data-backdrop-close="{% if modal_backdrop_close is False %}0{% else %}1{% endif %}">

  <div class="ds-modal__panel" role="document" tabindex="-1">
    <header class="ds-modal__header {% if modal_header_sticky %}is-sticky{% endif %}">
      <div class="ds-modal__titlewrap">
        <h2 class="ds-modal__title ds-title" id="{{ modal_id|default:'ds-modal' }}-title">
          {{ modal_title|default:'Modal' }}
        </h2>
      </div>

      <button type="button"
              class="btn btn-outline-secondary btn-sm"
              data-action="close-modal"
              aria-label="Cerrar modal">
        <i class="bi bi-x-lg"></i>
      </button>
    </header>

    <div id="modal-content" class="ds-modal__body" data-modal-content>
      {% block modal_body %}{% endblock %}
    </div>

    <footer class="ds-modal__footer" data-modal-footer>
      {% block modal_footer %}{% endblock %}
    </footer>
  </div>
</section>
